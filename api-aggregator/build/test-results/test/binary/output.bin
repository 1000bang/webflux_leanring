
=============================================================
Kí•™ìŠµ ì‹œë‚˜ë¦¬ì˜¤ 1: ZIP(ë³‘ë ¬) vs flatMap(ìˆœì°¨) ì‹¤í–‰ ì‹œê°„ ë¹„êµ
C  ë””ìŠ¤íŒ¨ì²˜ ì„¤ì •: ì‚¬ìš©ì 300ms, ì£¼ë¬¸ 700ms, ê²°ì œ 200ms
;  ZIP ì˜ˆìƒ ì‹œê°„: max(300, 700, 200) â‰ˆ 700ms (ë³‘ë ¬)
=  flatMap ì˜ˆìƒ ì‹œê°„: 300 + 700 + 200 â‰ˆ 1200ms (ìˆœì°¨)
=============================================================
U14:51:26.697 [Test worker] INFO com.example.aggregator.service.AggregatorService -- 
‘14:51:26.698 [Test worker] INFO com.example.aggregator.service.AggregatorService -- ============================================================
¡14:51:26.698 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ZIP ëª¨ë“œ ì‹œì‘] ë³‘ë ¬ ì‹¤í–‰ - 3ê°œì˜ APIë¥¼ ë™ì‹œì— í˜¸ì¶œí•©ë‹ˆë‹¤
€14:51:26.698 [Test worker] INFO com.example.aggregator.service.AggregatorService --   ì‹œì‘ ì‹œê°: 2026-02-20T14:51:26.698503
m14:51:26.698 [Test worker] INFO com.example.aggregator.service.AggregatorService --   ìŠ¤ë ˆë“œ: Test worker
¥14:51:26.698 [Test worker] INFO com.example.aggregator.service.AggregatorService --   ì˜ˆìƒ ì†Œìš”ì‹œê°„: max(ì‚¬ìš©ì1ì´ˆ, ì£¼ë¬¸2ì´ˆ, ê²°ì œ1ì´ˆí´ë°±) â‰ˆ 2ì´ˆ
‘14:51:26.698 [Test worker] INFO com.example.aggregator.service.AggregatorService -- ============================================================
§14:51:26.698 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ì‚¬ìš©ì API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:26.698833 | ìŠ¤ë ˆë“œ: Test worker
¤14:51:26.744 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ì£¼ë¬¸ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:26.744219 | ìŠ¤ë ˆë“œ: Test worker
È14:51:26.748 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:26.748383 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
Ã14:51:26.805 [Test worker] ERROR io.netty.resolver.dns.DnsServerAddressStreamProviders -- Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
Ö14:51:27.123 [reactor-http-nio-4] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì™„ë£Œ] ì‹œê°: 2026-02-20T14:51:27.123005 | ìŠ¤ë ˆë“œ: reactor-http-nio-4 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
µ14:51:27.180 [reactor-http-nio-2] INFO com.example.aggregator.service.AggregatorService -- [ì‚¬ìš©ì API ì™„ë£Œ] ì‹œê°: 2026-02-20T14:51:27.180316 | ìŠ¤ë ˆë“œ: reactor-http-nio-2
²14:51:27.588 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService -- [ì£¼ë¬¸ API ì™„ë£Œ] ì‹œê°: 2026-02-20T14:51:27.587689 | ìŠ¤ë ˆë“œ: reactor-http-nio-3
\14:51:27.589 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService -- 
˜14:51:27.589 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService -- ============================================================
„14:51:27.590 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService -- [ZIP ëª¨ë“œ ì™„ë£Œ] ë³‘ë ¬ ì‹¤í–‰ ê²°ê³¼
‡14:51:27.590 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService --   ì¢…ë£Œ ì‹œê°: 2026-02-20T14:51:27.590390
v14:51:27.593 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService --   ì´ ì‹¤í–‰ ì‹œê°„: 892ms
{14:51:27.593 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService --   ìŠ¤ë ˆë“œ: reactor-http-nio-3
ª14:51:27.593 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService --   â†’ 3ê°œ APIê°€ ë™ì‹œì— ì‹¤í–‰ë˜ì–´ ê°€ì¥ ëŠë¦° API(ì£¼ë¬¸ 2ì´ˆ) ìˆ˜ì¤€
˜14:51:27.593 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService -- ============================================================
U14:51:27.594 [Test worker] INFO com.example.aggregator.service.AggregatorService -- 
‘14:51:27.594 [Test worker] INFO com.example.aggregator.service.AggregatorService -- ============================================================
ª14:51:27.594 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [FLATMAP ëª¨ë“œ ì‹œì‘] ìˆœì°¨ ì‹¤í–‰ - APIë¥¼ í•˜ë‚˜ì”© ìˆœì„œëŒ€ë¡œ í˜¸ì¶œí•©ë‹ˆë‹¤
€14:51:27.594 [Test worker] INFO com.example.aggregator.service.AggregatorService --   ì‹œì‘ ì‹œê°: 2026-02-20T14:51:27.594794
m14:51:27.595 [Test worker] INFO com.example.aggregator.service.AggregatorService --   ìŠ¤ë ˆë“œ: Test worker
¨14:51:27.595 [Test worker] INFO com.example.aggregator.service.AggregatorService --   ì˜ˆìƒ ì†Œìš”ì‹œê°„: ì‚¬ìš©ì(1ì´ˆ) + ì£¼ë¬¸(2ì´ˆ) + ê²°ì œ(1ì´ˆí´ë°±) â‰ˆ 4ì´ˆ
«14:51:27.595 [Test worker] INFO com.example.aggregator.service.AggregatorService --   ì‹¤í–‰ ìˆœì„œ: ì‚¬ìš©ì API â†’ (ì™„ë£Œ í›„) ì£¼ë¬¸ API â†’ (ì™„ë£Œ í›„) ê²°ì œ API
‘14:51:27.595 [Test worker] INFO com.example.aggregator.service.AggregatorService -- ============================================================
§14:51:27.595 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ì‚¬ìš©ì API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:27.595590 | ìŠ¤ë ˆë“œ: Test worker
µ14:51:27.918 [reactor-http-nio-4] INFO com.example.aggregator.service.AggregatorService -- [ì‚¬ìš©ì API ì™„ë£Œ] ì‹œê°: 2026-02-20T14:51:27.918863 | ìŠ¤ë ˆë“œ: reactor-http-nio-4
¹14:51:27.919 [reactor-http-nio-4] INFO com.example.aggregator.service.AggregatorService --   [FLATMAP] ì‚¬ìš©ì API ì™„ë£Œ â†’ ì£¼ë¬¸ API í˜¸ì¶œ ì‹œì‘ | ìŠ¤ë ˆë“œ: reactor-http-nio-4
²14:51:27.919 [reactor-http-nio-4] INFO com.example.aggregator.service.AggregatorService -- [ì£¼ë¬¸ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:27.919288 | ìŠ¤ë ˆë“œ: reactor-http-nio-4
²14:51:28.631 [reactor-http-nio-2] INFO com.example.aggregator.service.AggregatorService -- [ì£¼ë¬¸ API ì™„ë£Œ] ì‹œê°: 2026-02-20T14:51:28.631170 | ìŠ¤ë ˆë“œ: reactor-http-nio-2
¶14:51:28.632 [reactor-http-nio-2] INFO com.example.aggregator.service.AggregatorService --   [FLATMAP] ì£¼ë¬¸ API ì™„ë£Œ â†’ ê²°ì œ API í˜¸ì¶œ ì‹œì‘ | ìŠ¤ë ˆë“œ: reactor-http-nio-2
Ö14:51:28.632 [reactor-http-nio-2] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:28.632735 | ìŠ¤ë ˆë“œ: reactor-http-nio-2 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
Ö14:51:28.847 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì™„ë£Œ] ì‹œê°: 2026-02-20T14:51:28.847472 | ìŠ¤ë ˆë“œ: reactor-http-nio-3 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
\14:51:28.847 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService -- 
˜14:51:28.848 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService -- ============================================================
ˆ14:51:28.848 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService -- [FLATMAP ëª¨ë“œ ì™„ë£Œ] ìˆœì°¨ ì‹¤í–‰ ê²°ê³¼
‡14:51:28.849 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService --   ì¢…ë£Œ ì‹œê°: 2026-02-20T14:51:28.848838
w14:51:28.849 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService --   ì´ ì‹¤í–‰ ì‹œê°„: 1253ms
{14:51:28.849 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService --   ìŠ¤ë ˆë“œ: reactor-http-nio-3
§14:51:28.849 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService --   â†’ 3ê°œ APIê°€ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ë˜ì–´ ê° API ì‹œê°„ì˜ í•©ê³¼ ìœ ì‚¬
—14:51:28.849 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService --   â†’ ZIP ëª¨ë“œë³´ë‹¤ ëŠë¦¼! (ë³‘ë ¬ vs ìˆœì°¨ì˜ ì°¨ì´)
˜14:51:28.850 [reactor-http-nio-3] INFO com.example.aggregator.service.AggregatorService -- ============================================================

ì‹¤ì¸¡ ê²°ê³¼:
+  ZIP ëª¨ë“œ ì‹¤í–‰ ì‹œê°„: 897ms (ë³‘ë ¬)
0  flatMap ëª¨ë“œ ì‹¤í–‰ ì‹œê°„: 1256ms (ìˆœì°¨)
/  ì‹œê°„ ì°¨ì´: 359ms (flatMapì´ ë” ëŠë¦¼)
=============================================================
Zê²€ì¦ ì™„ë£Œ: ZIP(897ms) < flatMap(1256ms) - ë³‘ë ¬ ì‹¤í–‰ì´ ìˆœì°¨ ì‹¤í–‰ë³´ë‹¤ ë¹ ë¦„

=============================================================
=í•™ìŠµ ì‹œë‚˜ë¦¬ì˜¤ 2: íƒ€ì„ì•„ì›ƒ â†’ í´ë°± ì‘ë‹µ í™•ì¸
@  ê²°ì œ API ì§€ì—°: 2ì´ˆ | ì„œë¹„ìŠ¤ íƒ€ì„ì•„ì›ƒ ì„¤ì •: 1ì´ˆ
F  ì˜ˆìƒ ê²°ê³¼: TimeoutException â†’ onErrorResume â†’ í´ë°± ì‘ë‹µ
=============================================================
È14:51:28.905 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:28.905863 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
â14:51:29.919 [parallel-3] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹¤íŒ¨] ì‹œê°: 2026-02-20T14:51:29.912546 | ì˜¤ë¥˜ ìœ í˜•: TimeoutException | ë©”ì‹œì§€: Did not observe any item or terminal signal within 1000ms in 'flatMap' (and no fallback has been configured) | ìŠ¤ë ˆë“œ: parallel-3 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
Ó14:51:29.920 [parallel-3] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ í´ë°± ì‘ë‹µ] ì›ì¸: ìš”ì²­ íƒ€ì„ì•„ì›ƒ (1ì´ˆ ì´ˆê³¼) - ê²°ì œ API ì‘ë‹µ ì§€ì—° | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED

í´ë°± ì‘ë‹µ ë‚´ìš©:
  paymentId: FALLBACK
  status: í´ë°± ì‘ë‹µ
G  reason: ìš”ì²­ íƒ€ì„ì•„ì›ƒ (1ì´ˆ ì´ˆê³¼) - ê²°ì œ API ì‘ë‹µ ì§€ì—°
  circuitBreakerState: CLOSED
M  message: ê²°ì œ ì„œë¹„ìŠ¤ ì¼ì‹œ ë¶ˆê°€ - í´ë°± ì‘ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤
=============================================================
\ê²€ì¦ ì™„ë£Œ: ê²°ì œ API 2ì´ˆ ì§€ì—° â†’ 1ì´ˆ íƒ€ì„ì•„ì›ƒ â†’ í´ë°± ì‘ë‹µ ì •ìƒ ë°˜í™˜

=============================================================
@í•™ìŠµ ì‹œë‚˜ë¦¬ì˜¤ 3: ì„œí‚·ë¸Œë ˆì´ì»¤ OPEN ìƒíƒœ í…ŒìŠ¤íŠ¸
P  ì„¤ì •: ìŠ¬ë¼ì´ë”© ìœˆë„ìš° 5, ì‹¤íŒ¨ìœ¨ ì„ê³„ê°’ 50%, ìµœì†Œ í˜¸ì¶œ 5íšŒ
R  ì‹œë‚˜ë¦¬ì˜¤: 5íšŒ ì—°ì† ì‹¤íŒ¨ â†’ ì‹¤íŒ¨ìœ¨ 100% â†’ ì„œí‚·ë¸Œë ˆì´ì»¤ OPEN
=============================================================

+  ì´ˆê¸° ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
È14:51:30.925 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:30.925294 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
Ê14:51:30.950 [reactor-http-nio-6] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹¤íŒ¨] ì‹œê°: 2026-02-20T14:51:30.950297 | ì˜¤ë¥˜ ìœ í˜•: InternalServerError | ë©”ì‹œì§€: 500 Internal Server Error from GET http://localhost:50668/payment | ìŠ¤ë ˆë“œ: reactor-http-nio-6 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
ˆ14:51:30.950 [reactor-http-nio-6] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ í´ë°± ì‘ë‹µ] ì›ì¸: ì„œë¹„ìŠ¤ ì˜¤ë¥˜: InternalServerError - 500 Internal Server Error from GET http://localhost:50668/payment | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
J  ì‹œë„ 1/5 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED | í´ë°±ì‘ë‹µ: FALLBACK
È14:51:31.056 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:31.056676 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
Ê14:51:31.060 [reactor-http-nio-6] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹¤íŒ¨] ì‹œê°: 2026-02-20T14:51:31.060115 | ì˜¤ë¥˜ ìœ í˜•: InternalServerError | ë©”ì‹œì§€: 500 Internal Server Error from GET http://localhost:50668/payment | ìŠ¤ë ˆë“œ: reactor-http-nio-6 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
ˆ14:51:31.060 [reactor-http-nio-6] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ í´ë°± ì‘ë‹µ] ì›ì¸: ì„œë¹„ìŠ¤ ì˜¤ë¥˜: InternalServerError - 500 Internal Server Error from GET http://localhost:50668/payment | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
J  ì‹œë„ 2/5 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED | í´ë°±ì‘ë‹µ: FALLBACK
È14:51:31.163 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:31.163348 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
Ê14:51:31.168 [reactor-http-nio-6] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹¤íŒ¨] ì‹œê°: 2026-02-20T14:51:31.168049 | ì˜¤ë¥˜ ìœ í˜•: InternalServerError | ë©”ì‹œì§€: 500 Internal Server Error from GET http://localhost:50668/payment | ìŠ¤ë ˆë“œ: reactor-http-nio-6 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
ˆ14:51:31.168 [reactor-http-nio-6] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ í´ë°± ì‘ë‹µ] ì›ì¸: ì„œë¹„ìŠ¤ ì˜¤ë¥˜: InternalServerError - 500 Internal Server Error from GET http://localhost:50668/payment | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
J  ì‹œë„ 3/5 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED | í´ë°±ì‘ë‹µ: FALLBACK
È14:51:31.271 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:31.271082 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
Ê14:51:31.275 [reactor-http-nio-6] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹¤íŒ¨] ì‹œê°: 2026-02-20T14:51:31.275736 | ì˜¤ë¥˜ ìœ í˜•: InternalServerError | ë©”ì‹œì§€: 500 Internal Server Error from GET http://localhost:50668/payment | ìŠ¤ë ˆë“œ: reactor-http-nio-6 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
ˆ14:51:31.275 [reactor-http-nio-6] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ í´ë°± ì‘ë‹µ] ì›ì¸: ì„œë¹„ìŠ¤ ì˜¤ë¥˜: InternalServerError - 500 Internal Server Error from GET http://localhost:50668/payment | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
J  ì‹œë„ 4/5 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED | í´ë°±ì‘ë‹µ: FALLBACK
È14:51:31.379 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:31.379479 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
È14:51:31.386 [reactor-http-nio-6] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹¤íŒ¨] ì‹œê°: 2026-02-20T14:51:31.386256 | ì˜¤ë¥˜ ìœ í˜•: InternalServerError | ë©”ì‹œì§€: 500 Internal Server Error from GET http://localhost:50668/payment | ìŠ¤ë ˆë“œ: reactor-http-nio-6 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: OPEN
†14:51:31.386 [reactor-http-nio-6] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ í´ë°± ì‘ë‹µ] ì›ì¸: ì„œë¹„ìŠ¤ ì˜¤ë¥˜: InternalServerError - 500 Internal Server Error from GET http://localhost:50668/payment | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: OPEN
H  ì‹œë„ 5/5 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: OPEN | í´ë°±ì‘ë‹µ: FALLBACK

2  5íšŒ ì‹¤íŒ¨ í›„ ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: OPEN
Æ14:51:31.488 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:31.488107 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: OPEN
Á14:51:31.489 [Test worker] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹¤íŒ¨] ì‹œê°: 2026-02-20T14:51:31.489585 | ì˜¤ë¥˜ ìœ í˜•: CallNotPermittedException | ë©”ì‹œì§€: CircuitBreaker 'payment' is OPEN and does not permit further calls | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: OPEN
î14:51:31.490 [Test worker] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ í´ë°± ì‘ë‹µ] ì›ì¸: ì„œí‚·ë¸Œë ˆì´ì»¤ ì˜¤í”ˆ ìƒíƒœ - ìš”ì²­ì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤ (í˜„ì¬ ìƒíƒœ: OPEN) | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: OPEN

™  ì„œí‚· OPEN í›„ ì¶”ê°€ ìš”ì²­ ê²°ê³¼: {paymentId=FALLBACK, status=í´ë°± ì‘ë‹µ, reason=ì„œí‚·ë¸Œë ˆì´ì»¤ ì˜¤í”ˆ ìƒíƒœ - ìš”ì²­ì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤ (í˜„ì¬ ìƒíƒœ: OPEN), circuitBreakerState=OPEN, message=ê²°ì œ ì„œë¹„ìŠ¤ ì¼ì‹œ ë¶ˆê°€ - í´ë°± ì‘ë‹µì„ ë°˜í™˜í•©ë‹ˆë‹¤}

k  ê²€ì¦ ì™„ë£Œ: 5íšŒ ì‹¤íŒ¨ â†’ ì„œí‚·ë¸Œë ˆì´ì»¤ OPEN â†’ ì¶”ê°€ ìš”ì²­ ì°¨ë‹¨ â†’ í´ë°± ì‘ë‹µ ë°˜í™˜
=============================================================

=============================================================
Bí•™ìŠµ ì‹œë‚˜ë¦¬ì˜¤ 4: OPEN â†’ HALF-OPEN ìë™ ì „í™˜ í…ŒìŠ¤íŠ¸
6  ì˜¤í”ˆ ëŒ€ê¸° ì‹œê°„: 2ì´ˆ (ì‹¤ì œ ì„¤ì •ì€ 10ì´ˆ)
5  automaticTransitionFromOpenToHalfOpenEnabled: true
=============================================================

?  Step 1: 5íšŒ ì—°ì† ì‹¤íŒ¨ë¡œ ì„œí‚·ë¸Œë ˆì´ì»¤ OPEN ìœ ë„
È14:51:31.495 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:31.495789 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
Ê14:51:31.503 [reactor-http-nio-7] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹¤íŒ¨] ì‹œê°: 2026-02-20T14:51:31.503375 | ì˜¤ë¥˜ ìœ í˜•: InternalServerError | ë©”ì‹œì§€: 500 Internal Server Error from GET http://localhost:50670/payment | ìŠ¤ë ˆë“œ: reactor-http-nio-7 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
ˆ14:51:31.503 [reactor-http-nio-7] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ í´ë°± ì‘ë‹µ] ì›ì¸: ì„œë¹„ìŠ¤ ì˜¤ë¥˜: InternalServerError - 500 Internal Server Error from GET http://localhost:50670/payment | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
     ì‹œë„ 1/5 | ìƒíƒœ: CLOSED
È14:51:31.504 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:31.504299 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
Ê14:51:31.509 [reactor-http-nio-7] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹¤íŒ¨] ì‹œê°: 2026-02-20T14:51:31.509697 | ì˜¤ë¥˜ ìœ í˜•: InternalServerError | ë©”ì‹œì§€: 500 Internal Server Error from GET http://localhost:50670/payment | ìŠ¤ë ˆë“œ: reactor-http-nio-7 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
ˆ14:51:31.509 [reactor-http-nio-7] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ í´ë°± ì‘ë‹µ] ì›ì¸: ì„œë¹„ìŠ¤ ì˜¤ë¥˜: InternalServerError - 500 Internal Server Error from GET http://localhost:50670/payment | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
     ì‹œë„ 2/5 | ìƒíƒœ: CLOSED
È14:51:31.510 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:31.510513 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
Ê14:51:31.514 [reactor-http-nio-7] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹¤íŒ¨] ì‹œê°: 2026-02-20T14:51:31.514678 | ì˜¤ë¥˜ ìœ í˜•: InternalServerError | ë©”ì‹œì§€: 500 Internal Server Error from GET http://localhost:50670/payment | ìŠ¤ë ˆë“œ: reactor-http-nio-7 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
ˆ14:51:31.514 [reactor-http-nio-7] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ í´ë°± ì‘ë‹µ] ì›ì¸: ì„œë¹„ìŠ¤ ì˜¤ë¥˜: InternalServerError - 500 Internal Server Error from GET http://localhost:50670/payment | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
     ì‹œë„ 3/5 | ìƒíƒœ: CLOSED
È14:51:31.515 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:31.515291 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
Ê14:51:31.519 [reactor-http-nio-7] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹¤íŒ¨] ì‹œê°: 2026-02-20T14:51:31.519644 | ì˜¤ë¥˜ ìœ í˜•: InternalServerError | ë©”ì‹œì§€: 500 Internal Server Error from GET http://localhost:50670/payment | ìŠ¤ë ˆë“œ: reactor-http-nio-7 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
ˆ14:51:31.519 [reactor-http-nio-7] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ í´ë°± ì‘ë‹µ] ì›ì¸: ì„œë¹„ìŠ¤ ì˜¤ë¥˜: InternalServerError - 500 Internal Server Error from GET http://localhost:50670/payment | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
     ì‹œë„ 4/5 | ìƒíƒœ: CLOSED
È14:51:31.520 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:31.520125 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: CLOSED
È14:51:31.526 [reactor-http-nio-7] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹¤íŒ¨] ì‹œê°: 2026-02-20T14:51:31.526728 | ì˜¤ë¥˜ ìœ í˜•: InternalServerError | ë©”ì‹œì§€: 500 Internal Server Error from GET http://localhost:50670/payment | ìŠ¤ë ˆë“œ: reactor-http-nio-7 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: OPEN
†14:51:31.527 [reactor-http-nio-7] WARN com.example.aggregator.service.AggregatorService -- [ê²°ì œ í´ë°± ì‘ë‹µ] ì›ì¸: ì„œë¹„ìŠ¤ ì˜¤ë¥˜: InternalServerError - 500 Internal Server Error from GET http://localhost:50670/payment | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: OPEN
    ì‹œë„ 5/5 | ìƒíƒœ: OPEN
#  ì„œí‚· OPEN ìƒíƒœ í™•ì¸ ì™„ë£Œ

D  Step 2: 2.5ì´ˆ ëŒ€ê¸° (ì˜¤í”ˆ ëŒ€ê¸° ì‹œê°„ 2ì´ˆ + ì—¬ìœ  0.5ì´ˆ)
2  2.5ì´ˆ í›„ ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: HALF_OPEN

N  Step 3: ì„±ê³µ ì‘ë‹µìœ¼ë¡œ ì „í™˜ í›„ ê²°ì œ API í˜¸ì¶œ (HALF-OPEN ê²€ì¦)
Ë14:51:34.033 [Test worker] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì‹œì‘] ì‹œê°: 2026-02-20T14:51:34.033845 | ìŠ¤ë ˆë“œ: Test worker | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: HALF_OPEN
Ù14:51:34.248 [reactor-http-nio-7] INFO com.example.aggregator.service.AggregatorService -- [ê²°ì œ API ì™„ë£Œ] ì‹œê°: 2026-02-20T14:51:34.248764 | ìŠ¤ë ˆë“œ: reactor-http-nio-7 | ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: HALF_OPEN
z  HALF-OPEN í›„ ê²°ì œ API ì‘ë‹µ: {paymentId=PAY-001, status=ì™„ë£Œ, amount=150000, message=ê²°ì œ ì •ë³´ ì¡°íšŒ ì„±ê³µ}
2  ìš”ì²­ í›„ ì„œí‚·ë¸Œë ˆì´ì»¤ ìƒíƒœ: HALF_OPEN

R  ê²€ì¦ ì™„ë£Œ: ì„œí‚·ë¸Œë ˆì´ì»¤ OPEN â†’ HALF_OPEN ì „í™˜ ì‹œë‚˜ë¦¬ì˜¤ í™•ì¸
R  ì‹¤ì œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” 10ì´ˆ ëŒ€ê¸° í›„ HALF-OPENìœ¼ë¡œ ì „í™˜ë©ë‹ˆë‹¤.
=============================================================
